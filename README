# Mozilla Plugin Finder Service (PFS) 2
# https://wiki.mozilla.org/PFS2
# lorchard@mozilla.com

Someday, this thing will help you find plugin updates.

Installation:
mysql> CREATE DATABASE pfs2
$ mysql pfs2 < conf/schema.sql 

Configure Apache's document root to be pfs2/trunk/htdocs

cp config.php-dist config.php

Edit config.php and update
* primary_database, shadow_databases, and memcache_config

Ensure memcached is running.

Finally, to load the DB with data from JSON plugin definitions:

$ php bin/update-db.php

Test Install:
Request:
http://pfs2.example.com/?appID={ec8030f7-c20a-464f-9b0e-13a3a9e97384}&mimetype=application/x-shockwave-flash&appVersion=2008052906&appRelease=3.0&clientOS=Windows%20NT%205.1&chromeLocale=en-US&callback=during_dinner

You should see some output like:
during_dinner([{"id":2,"name":"Adobe Flash Player","description":"","latest_version":"","vendor":"Adobe",
    "url":"http:\/\/www.adobe.com\/go\/getflashplayer","icon_url":"",
    "license_url":"http:\/\/www.adobe.com\/go\/eula_flashplayer","plugin_id":1,
    "guid":"{4cfaef8a-a6c9-41a0-8e6f-967eb8f49143}",
    "filename":"","version":"10.0.22.87",
    "xpi_location":"http:\/\/fpdownload.macromedia.com\/get\/flashplayer\/xpi\/current\/flashplayer-win.xpi",
    "installer_location":"","installer_hash":"","installer_shows_ui":0,
    "manual_installation_url":"http:\/\/www.adobe.com\/go\/getflashplayer",
    "needs_restart":0,"min":"","max":"","xpcomabi":"",
    "created":"2009-03-27 21:00:07","modified":"2009-03-27 21:00:07"}])

That was the JSONP format. Also for straight JSON, Request:
http://pfs2.yourhost/?appID={ec8030f7-c20a-464f-9b0e-13a3a9e97384}&mimetype=application/x-shockwave-flash&appVersion=2008052906&appRelease=3.0&clientOS=Windows%20NT%205.1&chromeLocale=en-US
